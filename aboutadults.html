<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>EAT Lunch</title>

    <!-- Bootstrap core CSS -->
    <link href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="eat.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="assets/js/autoNumeric-min.js" type="text/javascript"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/css/bootstrap-select.min.css">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.10.0/js/bootstrap-select.min.js"></script>


    <!-- favicon stuff-->
    <link rel="apple-touch-icon" sizes="57x57" href="assets/img/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="assets/img/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="assets/img/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="assets/img/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="assets/img/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="assets/img/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="assets/img/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="assets/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="assets/img/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="assets/img/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="assets/img/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="assets/img/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="assets/img/manifest.json">
    <link rel="mask-icon" href="assets/img/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="assets/img/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-TileImage" content="assets/img/mstile-144x144.png">
    <meta name="msapplication-config" content="assets/img/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
  </head>

  <body>

    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="header-bar">
        <img src="assets/img/usda.png" width="50px" />
        <span>Free & Reduced Price School Meals Application</span>
        <div id="translator" style="margin-top: 4px; float: right;"><div id="google_translate_element"></div></div>
      </div>
    </nav>

    <!-- progressbar -->
    <div style="background-color: #eee; height: 70px; margin-top: -15px; padding-top: 5px; border-bottom: 1px solid white; border-top: 1px solid white;">
      <ul id="progressbar">
        <li class="active">Begin</li>
        <li class="active">Background</li>
        <li class="active">Children</li>
        <li class="active">Adults</li>
        <li>Review</li>
        <li>Done</li>
      </ul>
    </div>

    <div style="border-top: 1px solid #E4E4E4; margin-top: 0px; width: 100%;">
      <div class="container animate fadeIn">

        <a id="defineAdult" style='color: #333; text-decoration: none;' class="bottom" title="<span style='font-weight: bold; color: #aab2bd; '>THIS INCLUDES ADULTS LIVING WITH YOU WHO:</span><br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> share household income and expenses<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> even if they are not related to you<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> even if they don't have their own income<br/><br/><span style='font-weight: bold; color: #aab2bd; '>THIS DOESN'T INCLUDE ADULTS LIVING WITH YOU WHO:</span><br/><span style='color:#dd3e3e;' class='glyphicon glyphicon-remove' aria-hidden='true'></span> are not supported by the household income<br/><span style='color:#dd3e3e;' class='glyphicon glyphicon-remove' aria-hidden='true'></span> do not contribute income to the household income"
          data-html="true" data-placement="bottom" data-toggle="tooltip" href="#">
          <h2 class="form-signin-heading center-text" id="desc-heading">tell us about the adults</h2>
          <h5 class="form-signin-heading center-text heading-with-hover">who live in your household, even if they are not related to you</h5>
        </a>

        <div class="row Piggies" style="text-align: center;">
            <div class="Includes col-md-offset-1 col-md-5" style="margin-top: 20px;">
              <div class="table_desc">THIS INCLUDES ADULTS WHO:</div>
              <img src="assets/img/piggy.png" height="75px"/>
              <span style="display: block;">contribute to any household income or expenses</span><span style=" margin-top: 5px; font-style: italic; font-weight: 200; display: block;">(even if they are not related to you or don't have their own income)</span>
            </div>
            <div class="Excludes col-md-5" style="margin-top: 20px;">
              <div class="table_desc">THIS DOESN'T INCLUDE ADULTS WHO:</div>
              <img src="assets/img/piggy_no.png" height="75px"/>
              <div>do not contribute to any household income or expenses</div>
            </div>
        </div>

        <form class="form-horizontal col-md-12" style="margin-top: 20px;" id="aboutAdultsForm" name="aboutAdultsForm" action="/ssn">
          <div id="adultsInfo"></div>

          <div class="form-group">
            <a class="btn btn-lg btn-primary btn-back" href="javascript:history.back();">Back</a>
            <button class="btn btn-lg btn-primary btn-proceed">Next</button>
          </div>
        </form>
      </div> <!-- /container -->
    </div>

    <img src="assets/img/school.png" id="school"/>
    <div id="footer" class="footer">
    </div>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="assets/js/ie10-viewport-bug-workaround.js"></script>
    <script src="main.js"></script>
    <script type="text/javascript" src="assets/js/sisyphus.min.js"></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=places&dummy=.js"></script>

    <!-- Plugins -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script>
      var deleteIncome = function(adultId) {
        // Delete income
        localStorage.removeItem("aboutAdultsFormaboutAdultsFormoption1_adult_"+adultId);
        localStorage.removeItem("aboutAdultsFormaboutAdultsFormoption2_adult_"+adultId);
        localStorage.removeItem("aboutAdultsFormaboutAdultsFormoption3_adult_"+adultId);
        localStorage.removeItem("aboutAdultsFormaboutAdultsFormoption4_adult_"+adultId);

        // Delete income time frame
        localStorage.removeItem("aboutAdultsFormaboutAdultsFormradioOption1_adult_"+adultId);
        localStorage.removeItem("aboutAdultsFormaboutAdultsFormradioOption2_adult_"+adultId);
        localStorage.removeItem("aboutAdultsFormaboutAdultsFormradioOption3_adult_"+adultId);
        localStorage.removeItem("aboutAdultsFormaboutAdultsFormradioOption4_adult_"+adultId);
      };

      var show = function(el) {
          console.log("showing ");
          console.log(el);
          $("#" + el).show("slow");

          // Get adult id
          var vals = el.split("_");
          var x = +vals[1];

          // Make visible inputs required
          $(("#adult_"+x+"_income_table input:text")).attr('required', true);
          $(("#adult_"+x+"_income_table input:radio")).attr('required', true);
          $(("#adult_"+x+"_income_table select")).attr("required", true);
      };

      var hide = function(el) {
          console.log("hiding ");
          console.log(el);
          $("#" + el).hide("slow");

          // Delete the data stored locally
          var vals = el.split("_");
          var x = +vals[1];
          deleteIncome(x);

          // Delete data in this form
          $(("#adult_"+x+"_income_table input:text")).val('');
          $(("#adult_"+x+"_income_table input:radio")).attr('checked', false);

          // Make hidden inputs not required
          $(("#adult_"+x+"_income_table input:text")).removeAttr("required");
          $(("#adult_"+x+"_income_table input:radio")).removeAttr("required");
          $(("#adult_"+x+"_income_table select")).removeAttr("required");
      };

      $( function() {

        $("#desc-heading").prepend(localStorage.getItem("signatureFormsignatureFormfirst") + ", ");
        $("#defineAdult").tooltip();

        var numAdults = localStorage.getItem("howManyAdultsFormhowManyAdultsFormnumAdults");

        // Delete old localStorage items (in case we decreased the number of children)
        for(var x = +numAdults+1; x <= 15; x++) {
          console.log("deleting adult " + x);
          // Delete name
          localStorage.removeItem("aboutAdultsFormaboutAdultsFormfirst_"+x);
          localStorage.removeItem("aboutAdultsFormaboutAdultsFormlast_"+x);
          localStorage.removeItem("aboutAdultsFormaboutAdultsFormmi_"+x);

          // Delete has income
          localStorage.removeItem("aboutAdultsFormaboutAdultsFormradioGroup_adult_"+x);
        }

        // Add in a row for each adult
        for(var i = 1; i <= numAdults; i++) {
          $("#adultsInfo").append(
            "<div id='adult_" + i + "' class='adult_info well'><div class='form-group col-md-12' style='margin: 0;'>" +
                "<div class='col-sm-3'>" +
                  "<label class='text_label' for='first_" + i + "'>first name</label>" +
                  "<input name='first_" + i + "' type='text' class='form-control' id='first_" + i + "' placeholder='' required='true'>" +
                "</div>" +

                "<div class='col-sm-2' style='width: 70px;'>" +
                  "<label class='text_label' for='mi_" + i + "'>MI</label>" +
                  "<input name='mi_" + i + "' type='text' class='form-control' id='mi_" + i + "' placeholder='' required='true'>" +
                "</div>" +

                "<div class='col-sm-4'>" +
                  "<label class='text_label' for='last_" + i + "'>last name</label>" +
                  "<input name='last_" + i + "' type='text' class='form-control' id='last_" + i + "' placeholder='' required='true'>" +
                "</div>" +
              "</div>" +

              "<div class='form-group col-md-12' style='margin: 0 0 30px 15px;'>" +

                  "<div id='defineIncome_"+i+"' style='color: #333; text-decoration: none;' data-html='true' data-placement='bottom' data-toggle='tooltip' href='#' class='bottom' title=\"<span style='font-weight: bold; color: #aab2bd; '>INCOME INCLUDES:</span><br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> earnings from salary, wages, bonuses, self-employment <br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> military basic pay or allowances for off-base housing<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span>  public assistance<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span>  college financial aid<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span>  workerâ€™s compensation<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span>  unemployment benefits<br/>" +
                    "<span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> strike benefits<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> pensions<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> annuities<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> trusts or estates<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> disability payments<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> Social Security<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> child support<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> interest, dividends, or other investment income<br/>" +
                    "<span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> rental income<br/><span style='color:#37bc9b;' class='glyphicon glyphicon-ok' aria-hidden='true'></span> regular cash payments from people outside the household<br/>\"" +

                  "<div class='col-sm-12'>" +
                    "<label class='radio-inline'>" +
                      "<input name='radioGroup_adult_" + i + "' id='adult_" + i + "_has_income' value='adult_" + i + "_has_income' type='radio' onclick='show(\"adult_"+i+"_income_table\")' required> This adult earns income." +
                    "</label>" +
                    "<label class='radio-inline'>" +
                      "<input name='radioGroup_adult_" + i + "' id='adult_" + i + "_no_income' value='adult_" + i + "_no_income' type='radio' onclick='hide(\"adult_"+i+"_income_table\")' required> This adult does <b>not</b> earn income." +
                    "</label>" +
                  "</div>" +
                  "</div>"+

                "<div id='adult_"+i+"_income_table'>"+

                  // RESPONSIVE INCOME TABLE
                  "<div class='container'>"+

                    // SALARY
                    "<div class='row'>"+
                        "<div class='col-sm-5'>"+
                          "<span><h6>SALARY</h6> or <h6>WAGE</h6> from a job</span><br/><i>(net income if self-employed)</i>"+
                        "</div>"+
                        "<div class='col-sm-3'>"+
                          "<input name='option1_adult_" + i + "' type='text' class='form-control' id='option1_adult_" + i + "' placeholder=''>" +
                        "</div>"+
                        "<div class='col-sm-4'>"+
                          "<select id='frequency_income_category_1_adult_" + i + "' name='frequency_income_category_1_adult_" + i + "' class='selectpicker' title='select frequency'>" +
                            "<option value='weekly'>weekly</option>" +
                            "<option value='2x month'>2x month</option>" +
                            "<option value='monthly'>monthly</option>" +
                          "</select>" +
                        "</div>"+
                    "</div>"+

                    // MILITARY WAGES
                    "<div class='row'>"+
                      "<div class='col-sm-5'>"+
                        "<span><h6>MILITARY</h6> basic pay or allowance</span>"+
                      "</div>"+
                      "<div class='col-sm-3'>"+
                        "<input name='option2_adult_" + i + "' type='text' class='form-control' id='option2_adult_" + i + "' placeholder=''>" +
                      "</div>"+
                      "<div class='col-sm-4'>"+
                        "<select id='frequency_income_category_2_adult_" + i + "' name='frequency_income_category_2_adult_" + i + "' class='selectpicker' title='select frequency'>" +
                           "<option value='weekly'>weekly</option>" +
                           "<option value='2x month'>2x month</option>" +
                           "<option value='monthly'>monthly</option>" +
                         "</select>" +
                      "</div>"+
                    "</div>"+

                    // OTHER INCOME
                    "<div class='row'>"+
                        "<div class='col-sm-5'>"+
                          "<span><h6>OTHER</h6> income from public assistance, alimony, child support, unemployment benefits, worker's compensation, veteran's benefits</span>"+
                        "</div>"+
                        "<div class='col-sm-3'>"+
                          "<input name='option3_adult_" + i + "' type='text' class='form-control' id='option3_adult_" + i + "' placeholder=''>" +
                        "</div>"+
                        "<div class='col-sm-4'>"+
                          "<select id='frequency_income_category_3_adult_" + i + "' name='frequency_income_category_3_adult_" + i + "' class='selectpicker' title='select frequency'>" +
                            "<option value='weekly'>weekly</option>" +
                            "<option value='2x month'>2x month</option>" +
                            "<option value='monthly'>monthly</option>" +
                          "</select>" +
                        "</div>"+
                    "</div>"+

                    // INVESTMENT INCOME
                    "<div class='row'>"+
                        "<div class='col-sm-5'>"+
                          "<span><h6>INVESTMENTS</h6> or any other income</span>"+
                        "</div>"+
                        "<div class='col-sm-3'>"+
                          "<input name='option4_adult_" + i + "' type='text' class='form-control' id='option4_adult_" + i + "' placeholder=''>" +
                        "</div>"+
                        "<div class='col-sm-4'>"+
                          "<select id='frequency_income_category_4_adult_" + i + "' name='frequency_income_category_4_adult_" + i + "' class='selectpicker' title='select frequency'>" +
                            "<option value='weekly'>weekly</option>" +
                            "<option value='2x month'>2x month</option>" +
                            "<option value='monthly'>monthly</option>" +
                          "</select>" +
                        "</div>"+
                    "</div>"+
                "</div>"+
                "</div>" +
                "</div>" +
              "</div>" +
            "</div>"
          );

          if(localStorage.getItem("aboutAdultsFormaboutAdultsFormradioGroup_adult_"+i) == ("adult_"+i+"_has_income")) {
            show("adult_"+i+"_income_table");
          } else {
            hide("adult_"+i+"_income_table");
          }

          $("#defineIncome_"+i).tooltip({trigger : 'hover'});

          $("#option1_adult_"+i).autoNumeric('init',{aSep: ',', aDec: '.', aSign: '$ '});
          $("#option2_adult_"+i).autoNumeric('init',{aSep: ',', aDec: '.', aSign: '$ '});
          $("#option3_adult_"+i).autoNumeric('init',{aSep: ',', aDec: '.', aSign: '$ '});
          $("#option4_adult_"+i).autoNumeric('init',{aSep: ',', aDec: '.', aSign: '$ '});
        }

        // Set the first person to autofill with your name
        $("#first_1").val(localStorage.getItem("signatureFormsignatureFormfirst"));
        $("#mi_1").val(localStorage.getItem("signatureFormsignatureFormmi"));
        $("#last_1").val(localStorage.getItem("signatureFormsignatureFormlast"));

        $("form").sisyphus({timeout: 1, autoRelease: false }); //Autosave form

      } );
    </script>
    <script type="text/javascript">
      function googleTranslateElementInit() {
        new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE, autoDisplay: false}, 'google_translate_element');
      }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<style type="text/css">iframe.goog-te-banner-frame{ display: none !important;}</style>
<style type="text/css">body {position: static !important; top:0px !important;}</style>
  </body>
</html>
