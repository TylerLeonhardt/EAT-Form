<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>EAT Lunch</title>

    <!-- Bootstrap core CSS -->
    <link href="node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="eat.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="assets/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  </head>

  <body>

    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="header-bar">
        <img src="assets/img/usda.png" width="50px" />
        <span>Free & Reduced Price School Meals Application</span>
      </div>
    </nav>

    <div class="container animate fadeIn">

      <h2 class="form-signin-heading center-text heading" id="desc-heading">do any household members (including you) participate in an Assistance Program such as SNAP, TANF, of FDPIR?</h2>

      <form class="form-horizontal col-md-12" id="hasSnapForm" name="hasSnapForm" action="#">
        <div class="btn-group col-md-12" data-toggle="buttons">
          <div data-toggle="buttons">
            <label class="btn btn-primary" onclick="show();" style="margin-right: -3px; border-top-right-radius: 0; border-bottom-right-radius: 0;">
                <input type="radio" name='Option' value='yes' required />Yes</label>
          <label class="btn btn-primary" onclick="hide();" style="border-top-left-radius: 0; border-bottom-left-radius: 0;">
            <input type="radio" name='Option' value='no' required />No</label>
          </div>
        </div>

        <div class="col-md-12" id="withCaseNumber" style="margin-top: 40px;">
          <div class="col-md-4 col-md-offset-4">
          <label for="caseNumber">Case number</label>
          <input name="caseNumber" type="text" class="form-control" id="caseNumber" placeholder="">
        </div>
        </div>

        <div class="form-group">
          <a class="btn btn-lg btn-primary btn-back" href="javascript:history.back();">Back</a>
          <button type="submit" class="btn btn-lg btn-primary btn-proceed">Next</button>
        </div>
    </form>
    </div> <!-- /container -->


    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="assets/js/ie10-viewport-bug-workaround.js"></script>
    <script src="main.js"></script>
    <script type="text/javascript" src="assets/js/sisyphus.min.js"></script>

    <!-- Plugins -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script>
      var show = function() {
        console.log("showing");
        $("#withCaseNumber").show("slow");
        $("#caseNumber").attr("required", true);
      };

      var hide = function() {
        console.log("hiding");
        $("#withCaseNumber").hide("slow");
        $("#caseNumber").removeAttr("required");
      };


      $( function() {
        $("#desc-heading").prepend(localStorage.getItem("signatureFormsignatureFormfirst") + ", ");
        $("form").sisyphus({timeout: 1, autoRelease: false }); //Autosave form
        hide();
      } );

      $("form").submit(function() {
        if($(this).serializeArray()[0] == undefined) {
          return false;
        }

        console.log($(this).serializeArray()[0]);

        // Store this value
        localStorage.setItem("householdOnSNAP", $(this).serializeArray()[0].value);

        // Take the user to the correct page based on their answer
        if($(this).serializeArray()[0].value == "no") {
          $(location).attr('href', 'howmanyadults.html');
        } else if($(this).serializeArray()[0].value == "yes") {
          $(location).attr('href', 'review.html');
        }

        return false;
      });
    </script>
  </body>
</html>
